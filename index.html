<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <title>Whack-a-Mole Game</title>
</head>
<body>
    <a-scene>
        <!-- Game board/table -->
        <a-box 
            position="0 0 -3" 
            width="6" 
            height="0.2" 
            depth="4" 
            color="brown">
        </a-box>
        
        <!-- Holes (3x3 grid) -->
        <a-cylinder position="-2 0.11 -2" radius="0.4" height="0.02" color="black"></a-cylinder>
        <a-cylinder position="0 0.11 -2" radius="0.4" height="0.02" color="black"></a-cylinder>
        <a-cylinder position="2 0.11 -2" radius="0.4" height="0.02" color="black"></a-cylinder>
        
        <a-cylinder position="-2 0.11 -3" radius="0.4" height="0.02" color="black"></a-cylinder>
        <a-cylinder position="0 0.11 -3" radius="0.4" height="0.02" color="black"></a-cylinder>
        <a-cylinder position="2 0.11 -3" radius="0.4" height="0.02" color="black"></a-cylinder>
        
        <a-cylinder position="-2 0.11 -4" radius="0.4" height="0.02" color="black"></a-cylinder>
        <a-cylinder position="0 0.11 -4" radius="0.4" height="0.02" color="black"></a-cylinder>
        <a-cylinder position="2 0.11 -4" radius="0.4" height="0.02" color="black"></a-cylinder>
        
        <!-- Moles -->
        <a-sphere 
            id="mole-1"
            position="-2 -0.5 -2" 
            radius="0.3" 
            color="brown"
            animation__up="property: position; to: -2 0.3 -2; dur: 800; startEvents: popup"
            animation__down="property: position; to: -2 -0.5 -2; dur: 800; startEvents: popdown">
        </a-sphere>
        
        <a-sphere 
            id="mole-2"
            position="0 -0.5 -2" 
            radius="0.3" 
            color="brown"
            animation__up="property: position; to: 0 0.3 -2; dur: 800; startEvents: popup"
            animation__down="property: position; to: 0 -0.5 -2; dur: 800; startEvents: popdown">
        </a-sphere>
        
        <a-sphere 
            id="mole-3"
            position="2 -0.5 -2" 
            radius="0.3" 
            color="brown"
            animation__up="property: position; to: 2 0.3 -2; dur: 800; startEvents: popup"
            animation__down="property: position; to: 2 -0.5 -2; dur: 800; startEvents: popdown">
        </a-sphere>
        
        <!-- Lighting -->
        <a-light type="ambient" color="#404040"></a-light>
        <a-light type="point" position="0 10 0" color="white"></a-light>
    </a-scene>
    
   <script>
    let score = 0;
    
    function popupMole(moleId) {
        const mole = document.querySelector(moleId);
        mole.emit('popup');
        setTimeout(() => {
            mole.emit('popdown');
        }, 2000);
    }
    
    // Add click listeners to all moles
    document.addEventListener('DOMContentLoaded', function() {
        const moles = document.querySelectorAll('.clickable');
        moles.forEach(mole => {
            mole.addEventListener('click', function() {
                score++;
                console.log('Hit! Score:', score);
                this.emit('popdown'); // Make mole go down when clicked
            });
        });
    });
    
    setTimeout(() => popupMole('#mole-1'), 1000);
    setTimeout(() => popupMole('#mole-2'), 3000);
    setTimeout(() => popupMole('#mole-3'), 5000);
</script>

</body>
</html>
